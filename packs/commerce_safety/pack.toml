[pack]
id = "commerce_safety"
name = "Commerce Safety"
version = "0.1.0"
description = "Deterministic safety gates for commerce traces."

[[evaluators]]
id = "max_steps_budget"
kind = "code"
entrypoint = "evaluators.py:max_steps_budget"
severity = "error"
description = "Fail if the trace exceeds the maximum step budget."
default_config = { max_steps = 18 }

[[evaluators]]
id = "loop_detector"
kind = "code"
entrypoint = "evaluators.py:loop_detector"
severity = "warn"
description = "Warn when the same tool action repeats too many times in a row."
default_config = { max_repeat = 3 }

[[evaluators]]
id = "premature_complete"
kind = "code"
entrypoint = "evaluators.py:premature_complete"
severity = "warn"
description = "Flag TASK_COMPLETE if verifier success is missing or false."
default_config = { strict = false }
